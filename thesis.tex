\documentclass[a4paper, 11pt]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{fix-cm}
\usepackage{textcomp}
\usepackage[a4paper, margin=3cm]{geometry}
\usepackage[titletoc, title]{appendix}
\usepackage{booktabs}   % for \toprule, \midrule, \bottomrule
\usepackage{makecell}   % for \makecell
\usepackage{graphicx}   % for \resizebox
\usepackage{array}      % for >{\raggedright\arraybackslash}p{} column type
\usepackage{float} 
\usepackage{listings}

\usepackage{color}
\usepackage{booktabs}
\usepackage[all]{nowidow}
\usepackage[dvipsnames]{xcolor}
\usepackage[hidelinks]{hyperref}
\usepackage{acronym}
\usepackage{graphicx}
\usepackage{url}
\usepackage{titlesec}
\usepackage{csquotes}
\usepackage{enumitem}
% math and algorithms
\usepackage{amsmath}
\usepackage[linesnumbered,ruled,vlined]{algorithm2e}

% tables
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{array}
\usepackage{tabularx}
\usepackage{amssymb}
\usepackage{verbatimbox}
\usepackage{verbatim}

% general formatting
\usepackage{graphicx}

% xml and code listings
\usepackage{listings}
\usepackage{xcolor}

\lstdefinelanguage{XML}{
  morestring=[b]",
  morecomment=[s]{<!--}{-->},
  stringstyle=\color{teal},
  identifierstyle=\color{black},
  keywordstyle=\color{blue},
  morekeywords={xmlns,version,type,id,name,value}
}

\lstset{
  language=XML,
  basicstyle=\ttfamily\small,
  numbers=left,
  numberstyle=\tiny\color{gray},
  frame=single,
  breaklines=true,
  showstringspaces=false,
  tabsize=2,
  captionpos=b
}

\lstdefinelanguage{YAML}{
    keywords={true, false, null, !!str, !!map, !!seq},
    keywordstyle=\color{blue}\bfseries,
    basicstyle=\ttfamily\footnotesize,
    comment=[l]{\#},
    commentstyle=\color{gray}\itshape,
    stringstyle=\color{red},
    moredelim=[l]{\&},
    moredelim=[l]{*},
    moredelim=**[il][\color{green}]{:},
    morestring=[b]',
    morestring=[b]"
}

\lstdefinelanguage{C++}{
    language=C++,
    morekeywords={
        alignas, alignof, and, and_eq, asm, atomic_cancel, atomic_commit, atomic_noexcept,
        auto, bitand, bitor, break, case, catch, class, compl, concept, consteval, constexpr,
        constinit, const_cast, continue, co_await, co_return, co_yield, decltype, default,
        delete, do, dynamic_cast, else, enum, explicit, export, extern, false, for, friend,
        goto, if, import, inline, module, mutable, namespace, new, noexcept, not, not_eq,
        nullptr, operator, or, or_eq, private, protected, public, reflexpr, register,
        reinterpret_cast, requires, return, sizeof, static, static_assert, static_cast,
        struct, switch, synchronized, template, this, thread_local, throw, true, try, typedef,
        typeid, typename, union, using, virtual, volatile, while, xor, xor_eq
    },
    sensitive=true,
    morecomment=[l]{//},
    morecomment=[s]{/*}{*/},
    morestring=[b]",
    morestring=[b]',
    moredelim=**[is][\color{blue}]{@}{@},
    keywordstyle=\color{blue}\bfseries,
    commentstyle=\color{gray}\itshape,
    stringstyle=\color{red},
    basicstyle=\ttfamily\footnotesize,
    numbers=left,
    numberstyle=\tiny\color{gray},
    stepnumber=1,
    numbersep=10pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    frame=single,
    tabsize=4,
    captionpos=b,
    breaklines=true,
    breakatwhitespace=true,
    escapeinside={\%*}{*)}
}

\usepackage{transparent}
\usepackage{eso-pic}
\usepackage[section]{placeins}
\usepackage{setspace}
\usepackage{parskip}

\usepackage{subcaption}

\renewcommand\thefigure{%
\thesection.\arabic{figure}}
\renewcommand\thesubfigure{%
\thesection.\arabic{figure}.\arabic{subfigure}}
\renewcommand\thetable{%
\thesection.\arabic{table}}

\usepackage[main=english, ngerman]{babel}

% we use the cleveref package to refer to figures, sections, etc.
% instead of "Figure~\ref{fig:example}", write only "\cref{fig:example}" and the word "Figure" (or table, etc) will be inserted normally
\usepackage[noabbrev,capitalise]{cleveref}

\usepackage[
    maxbibnames=99,
    style=numeric,
    url=false,
    backend=bibtex8,
    sortcites=true,
]{biblatex}
\bibliography{refs}
\DeclareFieldFormat[online]{urldate}{Last accessed: #1}
\DeclareFieldFormat{eprint}{arXiv: \href{https://arxiv.org/abs/#1}{#1}}
\DeclareFieldFormat[report]{title}{``#1''}


\newcommand{\projectTitle}{Energy-aware Co-location of Scientific Workflow Tasks}
\newcommand{\thesisType}{Master's Thesis}
\newcommand{\authors}{Niklas Fomin}
\newcommand{\matrikel}{464308}
\newcommand{\authorEmail}{\href{mailto:niklas.fomin@campus.tu-berlin.de}{niklas.fomin@campus.tu-berlin.de}}
\newcommand{\examinera}{Prof.~Dr.~habil.~Odej Kao}
\newcommand{\examinerb}{Prof.~Dr. Volker Markl}
\newcommand{\supervisor}{Jonathan Bader}

\newcommand{\projectYear}{2025}
\newcommand{\facultyName}{Fakultät Elektrotechnik und Informatik}
\newcommand{\departmentName}{Fachgebiet Distributed and Operating Systems}
\newcommand{\myparagraph}[1]{\paragraph{#1}\mbox{}\\}

\begin{document}
\input{front.tex}
\clearpage
\pagestyle{plain}

\newpage

\section*{KI-Disclaimer}
Hiermit versichere ich, dass ich in der vorliegenden Arbeit ChatGPT 5, Version 1.2025.168 und DeepL Translator for Mac ausschließlich zur Verbesserung der sprachlichen Qualität verwendet habe. Die inhaltlichen Leistungen sind meine eigenen.

Die Satzung zur Sicherung guter wissenschaftlicher Praxis an der TU Berlin vom 8. März 2017\footnote{\url{https://www.static.tu.berlin/fileadmin/www/10000060/FSC/Promotion___Habilitation/Dokumente/Grundsaetze_gute_wissenschaftliche_Praxis_2017.pdf}} habe ich zur Kenntnis genommen.

\vskip 2cm
\begin{tabular}{@{}p{.5in}p{4in}@{}}
     & \hrulefill                              \\
     & (Unterschrift) \authors, Berlin, \today \\
\end{tabular}


\newpage

\section*{Acknowledgements}
I thank all of them for the support....
I would like to first and foremost thank my wife Jenny who not only supported me during the process of writing this thesis but guided me through a time of personal and professional change. I am thankful for a family that supported my decisions and gave me a place to rest and recalibrate. Through my friends I was able to endure this process.
Special thanks to my supervisor Jonathan Bader for his caring guidance, that exceeded the scope of conducting this thesis.



\newpage
\section*{Abstract}

The combined contribution of processing units and memory devices to a data center's total energy consumption typically ranges between 70\% and 80\%. When scientific workflows are run in HPC data centers due to their parallelized execution multiple tasks can be co-located. Co-location can occur either on the same physical node or within the same virtual container which leads to sharing of the underlying compute and memory resources. A high level of resource sharing slows down the processing duration and increases the energy consumption compared to when executing them exclusively since they don't interfer with each other. Therefore, if possible workflow tasks with a high shared resource profile should be allocated to distinct compute resources to avoid contention, thus avoiding slowdown. In this thesis we present \textit{ShaReComp}, a multi-staged approach that characterizes tasks in terms of temporal signatures and applies dissimilarity-based clustering to group tasks with complementary resource usage. We integrate \textit{ShaReComp} into simulated workflow execution where we implement 4 co-location aware scheduling algorithms alongside co-location baselines, that we call \textit{ShaRiff}. Across nine real-world scientific workflows, \textit{ShaReComp} generally achieves higher intra-cluster dissimilarity than random clustering, confirming its ability to group tasks with complementary resource usage. When integrated into \textit{ShaRiff} scheduling simulation, this approach reduced overall energy consumption by up to 18\% and makespan by up to 15\% compared to random co-location, demonstrating the effectiveness of informed, energy-aware task consolidation.

% GERMAN
\clearpage
\begin{otherlanguage}{ngerman}
    \section*{Kurzfassung}
    Der kombinierte Anteil von Prozessoren und Speichergeräten am Gesamtenergieverbrauch eines Rechenzentrums liegt in der Regel zwischen 70\% und 80\%. Wenn Datenanalyse-Workflows in HPC-Rechenzentren gestartet werden, können aufgrund ihres parallelisierten Ablaufs mehrere Analyse-Jobs gemeinsam ausgeführt werden. Die Zusammenlegung der Jobs kann entweder auf demselben physischen Server oder innerhalb desselben virtuellen Containers erfolgen, was zu einer gemeinsamen Nutzung der zugrunde liegenden Rechen- und Speicherressourcen führt. Eine hohe gemeinsame Nutzung von Ressourcen verlangsamt die Verarbeitungsdauer und erhöht den Energieverbrauch im Vergleich zur exklusiven Ausführung, da sich die Jobs gegenseitig beeinträchtigen. Daher sollten Workflow-Jobs mit einer hohen gemeinsamen Ressourcennutzung nach Möglichkeit verschiedenen Rechenressourcen zugewiesen werden, um Konflikte und damit Verlangsamungen zu vermeiden. In dieser Arbeit stellen wir \textit{ShaReComp} vor, einen mehrstufigen Ansatz, der Workflow-Jobs anhand zeitlicher Verhaltens-Signaturen charakterisiert und eine auf Unähnlichkeit basierende Clusterbildung anwendet, um Jobs mit komplementärer Ressourcennutzung zu gruppieren. Wir implementieren die Umsetzung der Job Ko-lokations Methode \textit{ShaReComp} in eine simulierte Workflow-Umgebung, in der wir neben algorithmischen Vergleichsgrundlagen vier ko-lokations-bewusste Scheduling-Algorithmen entwerfen, die wir \textit{ShaRiff} nennen. In neun realen Datenanalyse-Workflows erzielt \textit{ShaReComp} insgesamt eine höhere Intra-Cluster-Unähnlichkeit als zufälliges Clustering, was die rechnerische Fähigkeit bestätigt, Workflow-Jobs mit komplementärer Ressourcennutzung zu gruppieren. Bei der Integration in die \textit{ShaRiff}-Simulation reduziert dieser Ansatz den Gesamtenergieverbrauch um bis zu 18\% und die Gesamtausführungszeit um bis zu 15\% im Vergleich zur zufälligen Ko-lokation, was die Wirksamkeit einer informierten, energie-effizienten Job-Konsolidierung demonstriert.
\end{otherlanguage}

\clearpage

\tableofcontents
\listoftables
\listoffigures
\listofalgorithms
\clearpage

\include{chapters/01_introduction}
\clearpage
\include{chapters/02_background}
\clearpage
\include{chapters/03_relatedwork}
\clearpage
\include{chapters/04_approach}
\clearpage
\include{chapters/05_implementation}
\clearpage
\include{chapters/06_evaluation}
\clearpage

\include{chapters/07_discussion}
\clearpage

\include{chapters/08_conclusionfuturework}
\clearpage

\include{chapters/09_appendix}

\newpage
\printbibliography[heading=bibintoc,title={Bibliography}]
\end{document}